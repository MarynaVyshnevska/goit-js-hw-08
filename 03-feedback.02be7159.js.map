{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAIMC,EAAO,CACTC,KAAMC,SAASC,cAAc,kBAC7BC,SAAUF,SAASC,cAAc,2BACjCE,MAAOH,SAASC,cAAc,yBAE5BG,EAAc,mBACdC,EAAgB,iBAChBC,EAAW,GAEjBR,EAAKC,KAAKQ,iBAAiB,UAU3B,SAAsBC,GAClBA,EAAEC,iBAEFC,QAAQC,IAAI,aAEZH,EAAEI,cAAcC,QAChBC,aAAaC,WAAWX,GAExBU,aAAaC,WAAWV,E,IAjB5BP,EAAKI,SAASK,iBAAiB,QAASS,EAAApB,GAAOqB,UAyB/C,SAAyBT,GACrB,IAAMU,EAAUV,EAAEW,OAAOC,MAEzBN,aAAaO,QAAQjB,EAAac,E,GA5BmC,MACzEpB,EAAKK,MAAMI,iBAAiB,QAASS,EAAApB,GAAOqB,UA+B5C,SAAsBT,GAClB,IAAMc,EAAkBd,EAAEW,OAAOC,MAEjCN,aAAaO,QAAQhB,EAAeiB,E,GAlC2B,MACnExB,EAAKC,KAAKQ,iBAAiB,SAAS,SAAAgB,GAEhCjB,EAASiB,EAAMJ,OAAOK,MAAQD,EAAMJ,OAAOC,MAC3CV,QAAQC,IAAIL,E,IAkChB,WACI,IAAMmB,EAAaX,aAAaY,QAAQrB,GAClCsB,EAAgBb,aAAaY,QAAQtB,GAEvCqB,IACAf,QAAQC,IAAIc,GACZ3B,EAAKK,MAAMiB,MAAQK,GAGnBE,IACAjB,QAAQC,IAAIgB,GACZ7B,EAAKI,SAASkB,MAAQO,E,CA3C9BC,E","sources":["src/js/03-feedback.js"],"sourcesContent":["import lodash from 'lodash';\nimport '../css/03-feedback.css';\n\n\nconst refs = {\n    form: document.querySelector('.feedback-form'),\n    textarea: document.querySelector('.feedback-form textarea'),\n    email: document.querySelector('.feedback-form input'),\n};\nconst STORAGE_MSG = 'feedback-message';\nconst STORAGE_EMAIL = 'feedback-email';\nconst formData = {};\n\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.textarea.addEventListener('input', lodash.throttle(onTextareaInput, 500));\nrefs.email.addEventListener('input', lodash.throttle(onEmailInput, 500));\nrefs.form.addEventListener('input', event => {\n\n    formData[event.target.name] = event.target.value;\n    console.log(formData);\n})\nfavorite();\n\nfunction onFormSubmit(e) { \n    e.preventDefault();\n\n    console.log('send form');\n    // clean form and localStorage\n    e.currentTarget.reset();\n    localStorage.removeItem(STORAGE_MSG);\n    // email saved\n    localStorage.removeItem(STORAGE_EMAIL);\n\n}\n\n// Получть значение поля\n// сохранить в локальном хранилище\n// добавить троттл(что б не каждое нажатие а по времени)\n\nfunction onTextareaInput(e) {\n    const message = e.target.value;\n\n    localStorage.setItem(STORAGE_MSG, message);\n    // console.log(message);\n}\n\nfunction onEmailInput(e) {\n    const subscriberEmail = e.target.value;\n\n    localStorage.setItem(STORAGE_EMAIL, subscriberEmail);\n    // console.log(subscriberEmail);\n}\n\nfunction favorite() {\n    const savedEmail = localStorage.getItem(STORAGE_EMAIL);\n    const savedTextarea = localStorage.getItem(STORAGE_MSG);\n\n    if (savedEmail) {\n        console.log(savedEmail);\n        refs.email.value = savedEmail;\n    }\n\n    if (savedTextarea) {\n        console.log(savedTextarea);\n        refs.textarea.value = savedTextarea;\n    }\n}\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$refs","form","document","querySelector","textarea","email","$b00c40859be242c5$var$STORAGE_MSG","$b00c40859be242c5$var$STORAGE_EMAIL","$b00c40859be242c5$var$formData","addEventListener","e","preventDefault","console","log","currentTarget","reset","localStorage","removeItem","$parcel$interopDefault","throttle","message","target","value","setItem","subscriberEmail","event","name","savedEmail","getItem","savedTextarea","$b00c40859be242c5$var$favorite"],"version":3,"file":"03-feedback.02be7159.js.map"}