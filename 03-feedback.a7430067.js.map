{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAIA,MAAMC,EAAO,CACTC,KAAMC,SAASC,cAAc,kBAC7BC,SAAUF,SAASC,cAAc,2BACjCE,MAAOH,SAASC,cAAc,yBAI5BG,EAAW,GAEjBN,EAAKC,KAAKM,iBAAiB,UAU3B,SAAsBC,GAClBA,EAAEC,iBAEFC,QAAQC,IAAI,aAEZH,EAAEI,cAAcC,QAChBC,aAAaC,WApBG,oBAsBhBD,aAAaC,WArBK,iB,IAItBf,EAAKI,SAASG,iBAAiB,QAASS,EAAAlB,GAAOmB,UAyB/C,SAAyBT,GACrB,MAAMU,EAAUV,EAAEW,OAAOC,MAEzBN,aAAaO,QAjCG,mBAiCkBH,E,GA5BmC,MACzElB,EAAKK,MAAME,iBAAiB,QAASS,EAAAlB,GAAOmB,UA+B5C,SAAsBT,GAClB,MAAMc,EAAkBd,EAAEW,OAAOC,MAEjCN,aAAaO,QAvCK,iBAuCkBC,E,GAlC2B,MACnEtB,EAAKC,KAAKM,iBAAiB,SAASgB,IAEhCjB,EAASiB,EAAMJ,OAAOK,MAAQD,EAAMJ,OAAOC,MAC3CV,QAAQC,IAAIL,EAAS,IAkCzB,WACI,MAAMmB,EAAaX,aAAaY,QA5Cd,kBA6CZC,EAAgBb,aAAaY,QA9CnB,oBAgDZD,IACAf,QAAQC,IAAIc,GACZzB,EAAKK,MAAMe,MAAQK,GAGnBE,IACAjB,QAAQC,IAAIgB,GACZ3B,EAAKI,SAASgB,MAAQO,E,CA3C9BC","sources":["src/js/03-feedback.js"],"sourcesContent":["import lodash from 'lodash';\nimport '../css/03-feedback.css';\n\n\nconst refs = {\n    form: document.querySelector('.feedback-form'),\n    textarea: document.querySelector('.feedback-form textarea'),\n    email: document.querySelector('.feedback-form input'),\n};\nconst STORAGE_MSG = 'feedback-message';\nconst STORAGE_EMAIL = 'feedback-email';\nconst formData = {};\n\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.textarea.addEventListener('input', lodash.throttle(onTextareaInput, 500));\nrefs.email.addEventListener('input', lodash.throttle(onEmailInput, 500));\nrefs.form.addEventListener('input', event => {\n\n    formData[event.target.name] = event.target.value;\n    console.log(formData);\n})\nfavorite();\n\nfunction onFormSubmit(e) { \n    e.preventDefault();\n\n    console.log('send form');\n    // clean form and localStorage\n    e.currentTarget.reset();\n    localStorage.removeItem(STORAGE_MSG);\n    // email saved\n    localStorage.removeItem(STORAGE_EMAIL);\n\n}\n\n// Получть значение поля\n// сохранить в локальном хранилище\n// добавить троттл(что б не каждое нажатие а по времени)\n\nfunction onTextareaInput(e) {\n    const message = e.target.value;\n\n    localStorage.setItem(STORAGE_MSG, message);\n    // console.log(message);\n}\n\nfunction onEmailInput(e) {\n    const subscriberEmail = e.target.value;\n\n    localStorage.setItem(STORAGE_EMAIL, subscriberEmail);\n    // console.log(subscriberEmail);\n}\n\nfunction favorite() {\n    const savedEmail = localStorage.getItem(STORAGE_EMAIL);\n    const savedTextarea = localStorage.getItem(STORAGE_MSG);\n\n    if (savedEmail) {\n        console.log(savedEmail);\n        refs.email.value = savedEmail;\n    }\n\n    if (savedTextarea) {\n        console.log(savedTextarea);\n        refs.textarea.value = savedTextarea;\n    }\n}\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$refs","form","document","querySelector","textarea","email","$945622fd0f572e60$var$formData","addEventListener","e","preventDefault","console","log","currentTarget","reset","localStorage","removeItem","$parcel$interopDefault","throttle","message","target","value","setItem","subscriberEmail","event","name","savedEmail","getItem","savedTextarea","$945622fd0f572e60$var$favorite"],"version":3,"file":"03-feedback.a7430067.js.map"}